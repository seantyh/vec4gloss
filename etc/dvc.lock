schema: '2.0'
stages:
  build_dataset:
    cmd: jupyter nbconvert --to notebook --execute --inplace 10.11-prepare-dataset.ipynb
    deps:
    - path: ../data/def_frame_annot_sense_ids.txt
      md5: 17742220218aeeb00d28831d705b3a02
      size: 2878
    - path: 10.11-prepare-dataset.ipynb
      md5: 942c0fe5c2e6c7d92a5fafcb6ee722ba
      size: 137786
    outs:
    - path: ../data/defgen_dataset_cwn/
      md5: 50ce6b30ae21a92b0a9628d38454adf6.dir
      size: 14780471
      nfiles: 7
    - path: ../data/denoising_dataset_cwn/
      md5: ea436df33391bb96a56aa1f65724c314.dir
      size: 2962927
      nfiles: 7
  train_defgen_v1.0:
    cmd: jupyter nbconvert --to notebook --execute --inplace 20.20-defgen-training.ipynb
    deps:
    - path: ../data/defgen_dataset_cwn/
      md5: 2a7fed04cae6ede3f05b34526000e2c2.dir
      size: 389602487
      nfiles: 44
    - path: 20.20-defgen-training.ipynb
      md5: d6e23506314a47ffc0c32422199f7070
      size: 114234
    outs:
    - path: ../data/models/vec4gloss-defgen-220628-1546/
      md5: ddd06bf7c2fc4d3dad3e689882d9fcae.dir
      size: 2350329979
      nfiles: 7
  train_denoise_v1.0:
    cmd: jupyter nbconvert --to notebook --execute --inplace 20.10-denoise-training.ipynb
    deps:
    - path: ../data/denoising_dataset_cwn/
      md5: 18a39abac9cf1d0fa61269fe6f68c454.dir
      size: 13221871
      nfiles: 13
    - path: 20.10-denoise-training.ipynb
      md5: c27ab08c6c32f58a3404359cc20b56bf
      size: 107535
    outs:
    - path: ../data/models/vec4gloss-denoise-220628-1510/
      md5: 15225cbd45cd7a38d972fc8c3b2450a0.dir
      size: 2350345182
      nfiles: 7
  train_defgen_v1.1:
    cmd: jupyter nbconvert --to notebook --execute --inplace 20.21-defgen-training-run2.ipynb
    deps:
    - path: ../data/defgen_dataset_cwn/
      md5: 2a7fed04cae6ede3f05b34526000e2c2.dir
      size: 389602487
      nfiles: 44
    - path: 20.21-defgen-training-run2.ipynb
      md5: 821fd7b3e2ed6a327ffe6e90e8b67029
      size: 112378
    outs:
    - path: ../data/models/vec4gloss-defgen-220629-1250/
      md5: e0f49df34efc0a772f06915b441cb224.dir
      size: 2350329979
      nfiles: 7
  prepare_rating:
    cmd: nbconvert --execute --inplace --to notebook 30.01-prepare-rating.ipynb
    deps:
    - path: ../data/asbc5_words_pos.pkl
      md5: 6151ef0b05891f1f2730d619f122b40b
      size: 4796273
    - path: ../data/defgen_dataset_cwn
      md5: 50ce6b30ae21a92b0a9628d38454adf6.dir
      size: 14780471
      nfiles: 7
    - path: ../data/models/vec4gloss-defgen-220629-1250
      md5: e0f49df34efc0a772f06915b441cb224.dir
      size: 2350329979
      nfiles: 7
    outs:
    - path: ../data/rating_materials.csv
      md5: 4e2ab226f5fd9bbd515d35a136f9efb2
      size: 11964
  rating_stat:
    cmd: nbconvert --inplace --execute --to notebook 30.10-rating-data-eda-1.ipynb
    deps:
    - path: ../data/rating_materials.n10.csv
      md5: dccc4e919168464f8234fcdf64fdf7a9
      size: 14127
    - path: ../data/rating_raw_data_220707.csv
      md5: 5b2dd3bf93413a4cea84b5bac3f9f674
      size: 29257
    - path: 30.10-rating-data-eda-1.ipynb
      md5: d7524eb7b5b9ecee385e86dd8ebbaac6
      size: 115740
    outs:
    - path: ../data/rating_response_stat.csv
      md5: c7ec6a11a80fc82917ffc59368348265
      size: 18895
  prepare_rating.n10:
    cmd: nbconvert --execute --inplace --to notebook 30.01-prepare-rating.ipynb
    deps:
    - path: ../data/asbc5_words_pos.pkl
      md5: 6151ef0b05891f1f2730d619f122b40b
      size: 4796273
    - path: ../data/defgen_dataset_cwn
      md5: 50ce6b30ae21a92b0a9628d38454adf6.dir
      size: 14780471
      nfiles: 7
    - path: ../data/models/vec4gloss-defgen-220629-1250
      md5: e0f49df34efc0a772f06915b441cb224.dir
      size: 2350329979
      nfiles: 7
    outs:
    - path: ../data/rating_materials.n10.csv
      md5: dccc4e919168464f8234fcdf64fdf7a9
      size: 14127
    - path: ../data/rating_materials.n10.raw.pkl
      md5: 632477a1f5070897f8186d7bcdf2312f
      size: 35700
  build-annotframe:
    cmd: nbconvert --to notebook --execute --inplace 30.23-build-annot-frameinfo.ipynb
    deps:
    - path: ../data/annotation.json
      md5: ef2bb2afa4ef6b90736a8f3f0de132d6
      size: 160278
    - path: ../data/models/vec4gloss-defgen-220629-1250
      md5: e0f49df34efc0a772f06915b441cb224.dir
      size: 2350329979
      nfiles: 7
    outs:
    - path: ../data/annot_frameinfo_list.pkl
      md5: e95b46b50d7a9171d59a779b9e0d6190
      size: 2131725
  build-nounframe:
    cmd: nbconvert --to notebook --execute --inplace 30.26-build-noun-depinfo.ipynb
    deps:
    - path: ../data/models/vec4gloss-defgen-220629-1250
      md5: e0f49df34efc0a772f06915b441cb224.dir
      size: 2350329979
      nfiles: 7
    - path: ../data/rating_materials.n10.raw.pkl
      md5: 632477a1f5070897f8186d7bcdf2312f
      size: 35700
    outs:
    - path: ../data/nouns_vec4gloss_frameinfo_list.pkl
      md5: e5b5c99119e8d8abc886d2b97e9a760f
      size: 221853
